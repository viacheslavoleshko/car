<ion-content>
  <ion-item>
    <ion-col size="12">
      <ion-input
        color="primary"
        placeholder="Enter reg number"
        [(ngModel)]="regNumb"
        (ionChange) = "search()"
      ></ion-input>
    </ion-col>
  </ion-item>
  <ion-button *ngIf="vdi  || co || tax || dvla" [routerLink]="'/purchase/' + regNumb"><h3>BUY</h3></ion-button>
  <ion-grid *ngIf="vdi !== undefined && vdi['vdi'] !== undefined && vdi['vdi'] !== null">
    <div class="label">VDI</div>
    <ion-row>
      <ion-col>WriteOffDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['WriteOffDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col (click)="showList('finance', 'financeList')"><span id="finance">►</span>FinanceRecordList</ion-col>
    </ion-row>
    <span *ngIf="financeList !== []" class="hidden" name="financeList">
        <div class="mleft" *ngFor="let item of financeList">
        <ion-row>
          <ion-col>AgreementDate</ion-col>
          <ion-col>{{item.AgreementDate}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>AgreementType</ion-col>
          <ion-col>{{item.AgreementType}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>AgreementNumber</ion-col>
          <ion-col>{{item.AgreementNumber}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>AgreementTerm</ion-col>
          <ion-col>{{item.AgreementTerm}}</ion-col>
        </ion-row>
          <ion-row>
          <ion-col>ContactNumber</ion-col>
          <ion-col>{{item.ContactNumber}}</ion-col>
        </ion-row>
          <ion-row>
          <ion-col>FinanceCompany</ion-col>
          <ion-col>{{item.FinanceCompany}}</ion-col>
        </ion-row>
          <ion-row>
          <ion-col>VehicleDescription</ion-col>
          <ion-col>{{item.VehicleDescription}}</ion-col>
        </ion-row>
          </div>
      </span>
    <ion-row>
      <ion-col>WrittenOff</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['WrittenOff']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col (click)="showList('write', 'writeList')"><span id="write">►</span>WriteOffRecordList</ion-col>
    </ion-row>
      <span *ngIf="writeOffRecordList !== []" class="hidden" name="writeList">
        <div class="mleft" *ngFor="let item of writeOffRecordList">
        <ion-row>
          <ion-col>MiaftrEntryDate</ion-col>
          <ion-col>{{item.MiaftrEntryDate}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>LossData</ion-col>
          <ion-col>{{item.LossDate}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>LossType</ion-col>
          <ion-col>{{item.LossType}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Category</ion-col>
          <ion-col>{{item.Category}}</ion-col>
        </ion-row>
          </div>
      </span>
    <ion-row>
      <ion-col>LatestKeeperChangeDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['LatestKeeperChangeDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>PreviousColour</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['PreviousColour']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>PlateChangeList</ion-col>
      <ion-col>PlateChangeList</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ScrapDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ScrapDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ImportedFromOutsideEu</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ImportedFromOutsideEu']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ColourChangeCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ColourChangeCount']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Imported</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['Imported']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>StolenMiaftrRecordList</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['StolenMiaftrRecordList']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>LatestV5cIssuedDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['LatestV5cIssuedDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>WriteOffRecordCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['WriteOffRecordCount']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ImportUsedBeforeUkRegistration</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ImportUsedBeforeUkRegistration']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>MileageAnomalyDetected</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['MileageAnomalyDetected']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>StolenStatus</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['StolenStatus']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Scrapped</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['Scrapped']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>HighRiskRecordCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['HighRiskRecordCount']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Stolen</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['Stolen']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ImportDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ImportDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Exported</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['Exported']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>WriteOffCategory</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['WriteOffCategory']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>ExportDate</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['ExportDate']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>VinLast5</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['VinLast5']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>PlateChangeCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['PlateChangeCount']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>PreviousKeeperCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['PreviousKeeperCount']}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>FinanceRecordCount</ion-col>
      <ion-col>{{vdi['vdi']['Response']['DataItems']['FinanceRecordCount']}}</ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid *ngIf="obj !== undefined && obj.m !== null">
    <div class="label">MOT</div>

    <ion-row>
      <ion-col>Engine size</ion-col>
      <ion-col>{{obj.m.engineSize}}cc</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Fuel Type</ion-col>
      <ion-col>{{obj.m.fuelType}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Make</ion-col>
      <ion-col>{{obj.m.make}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Model</ion-col>
      <ion-col>{{obj.m.model}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Colour</ion-col>
      <ion-col>{{obj.m.primaryColour}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Registration</ion-col>
      <ion-col>{{obj.m.registration}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Registration date</ion-col>
      <ion-col>{{obj.m.registrationDate}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col (click)="showList('arrow', 'motTests')"> <span id="arrow">►</span>Mot test</ion-col>
    </ion-row>
      <div *ngFor="let test of obj.m.motTests" class="hidden mleft" name="motTests">
        <ion-row>
          <ion-col>Completed date</ion-col>
          <ion-col>{{test.completedDate}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Expiry date</ion-col>
          <ion-col>{{test.expiryDate}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Mot test number</ion-col>
          <ion-col>{{test.motTestNumber}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Odometer result type</ion-col>
          <ion-col>{{test.odometerResultType}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Odometer unit </ion-col>
          <ion-col>{{test.odometerUnit}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Odometer value </ion-col>
          <ion-col>{{test.odometerValue}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>RFR and comments</ion-col>
        </ion-row>
        <div *ngFor="let item of test.rfrAndComments" class="mleft">
          <ion-row>
            <ion-col>Text</ion-col>
            <ion-col>{{item.text}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Type</ion-col>
            <ion-col>{{item.type}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Dangerous</ion-col>
            <ion-col>{{item.dangerous}}</ion-col>
          </ion-row>
          <hr><hr>
          <hr><hr>
        </div>
        <hr/>
      </div>
  </ion-grid>

   <ion-grid *ngIf="tax !== undefined && tax['t'] !== undefined">

     <div class="label">TAX</div>
      <ion-row>
        <ion-col>Status</ion-col>
        <ion-col>{{tax['t']['Status']}}</ion-col>
      </ion-row>
      <ion-row>
        <ion-col>Tax due</ion-col>
        <ion-col>{{tax['t']['Tax due']}}</ion-col>
      </ion-row>
      
     <ion-row>
       <ion-col>CO₂Emissions</ion-col>
       <ion-col>{{tax['t']['CO₂Emissions']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Cylinder capacity (cc)</ion-col>
       <ion-col>{{tax['t']['Cylinder capacity (cc)']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Date of first registration</ion-col>
       <ion-col>{{tax['t']['Date of first registration']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Euro Status</ion-col>
       <ion-col>{{tax['t']['Euro Status']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Export marker</ion-col>
       <ion-col>{{tax['t']['Export marker']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Fuel type</ion-col>
       <ion-col>{{tax['t']['Fuel type']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Vehicle colour</ion-col>
       <ion-col>{{tax['t']['Vehicle colour']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Revenue weight</ion-col>
       <ion-col>{{tax['t']['Revenue weight']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Vehicle make</ion-col>
       <ion-col>{{tax['t']['Vehicle make']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Vehicle status</ion-col>
       <ion-col>{{tax['t']['Vehicle status']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Vehicle type approval</ion-col>
       <ion-col>{{tax['t']['Vehicle type approval']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Wheelplan</ion-col>
       <ion-col>{{tax['t']['Wheelplan']}}</ion-col>
     </ion-row>
     <ion-row>
       <ion-col>Year of manufacture</ion-col>
       <ion-col>{{tax['t']['Year of manufacture']}}</ion-col>
     </ion-row>
   </ion-grid>

   <ion-grid *ngIf="dvla !== undefined && dvla !== null">
    <div class="label">DVLA</div>
    <ion-row>
      <ion-col>Location</ion-col>
      <ion-col>{{dvla.location}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>Area</ion-col>
      <ion-col>{{dvla.area}}</ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid *ngIf="co !== undefined && co !== null">
    <div class="label">Road Tax Information</div>
    <ion-row>
      <ion-col>Band</ion-col>
      <ion-col>{{co.band}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>CO₂ Output</ion-col>
      <ion-col>{{co.co2}} g/km</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>12 Months Cost</ion-col>
      <ion-col>£{{co.tax12_single}}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col>6 Months Cost</ion-col>
      <ion-col>£{{co.tax6_single}}</ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
