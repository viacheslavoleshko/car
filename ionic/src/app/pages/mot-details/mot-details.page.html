<ion-header>
  <ion-toolbar>
    <ion-title>mot-details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-button (click)="toHome()">
    Go to MOT tab!
  </ion-button>
  <div *ngIf="mot; else elseMot">
    <div *ngIf="mot !== -1 && mot['length'] !==0 && mot[0]['m'] !== undefined; else elseMot">
      <ion-row>
        <ion-col size="12">
          <div *ngIf="mot[0]['m']['registration']" class="registra">
            <h1>
              {{ mot[0]['m']["registration"] }}
            </h1>
          </div>
        </ion-col>

        <ion-col size="12">
          <h1 class="make">
            <span *ngIf="mot[0]['m']['make']">{{
              mot[0]['m']["make"]
            }}</span>
            <span *ngIf="mot[0]['m']['model']">{{
              mot[0]['m']["model"]
            }}</span>
          </h1>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col *ngIf="mot[0]['m']['firstUsedDate']" size="12"
          >First date use: {{ mot[0]['m']["firstUsedDate"] }}</ion-col
        >
        <ion-col *ngIf="mot[0]['m']['registrationDate']" size="12"
          >Registration date:
          {{ mot[0]['m']["registrationDate"] }}</ion-col
        >
        <ion-col *ngIf="mot[0]['m']['manufactureDate']" size="12"
          >Manufacture date:
          {{ mot[0]['m']["manufactureDate"] }}</ion-col
        >
        <ion-col *ngIf="mot[0]['m']['engineSize']" size="12"
          >Engine size: {{ mot[0]['m']["engineSize"] }}</ion-col
        >
      </ion-row>

      <ion-row *ngIf="mot[0]['m']['motTests']; else motTests">
        <h2>Tests</h2>
        <ion-col size="12">
          <ul *ngFor="let test of mot[0]['m']['motTests']">
            <li *ngFor="let t of test | keyvalue">
              {{t.key}} - {{t.value}}
            </li>
          </ul>
        </ion-col>
      </ion-row>

      <ng-template #motTests>
          <h1>Car don't have tests!</h1>
        </ng-template>

      <ion-row *ngIf="mot[0]['m']['rfrAndComments']">
        <h3>Comments</h3>
        <ul>
          <p>Monitor and repair if neccessary(advisories)</p>
          <p *ngFor="let item of mot[0]['m']['rfrAndComments']">
            <li *ngFor="let i of item |keyvalue">
              {{ i.key }} - {{i.value}}
            </li>
          </p>
        </ul>
      </ion-row>


      <!-- <ion-row *ngFor="let item of mot[0]['m'] | keyvalue ">
        <ion-col *ngIf="item.key">
            <div *ngIf="Array.isArray(item.key)">
              <ul>
                <li *ngFor="let i of item.key"> {{i.key}} - {{i.value}} </li>
              </ul>
            </div>
            <div *ngIf="!item.key['length']">
                {{item.key}} -{{item.value}}
            </div>
        </ion-col>
      </ion-row> -->

    </div>

  </div>

  <ng-template #elseMot>
    <h1>Sorry, not found you MOT!</h1>
  </ng-template>
</ion-content>
